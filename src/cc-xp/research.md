---
description: XP research – 実装前の技術調査と仕様確認（価値実現のための正確な知識獲得）
argument-hint: '[id] ※省略時は in-progress ストーリーを使用'
allowed-tools: Bash(date), Bash(echo), Bash(git:*), Bash(test), Bash(mkdir:*), Bash(grep), ReadFile, WriteFile, WebSearch, WebFetch, mcp__context7__*
---

# XP Research - 価値実現のための技術調査

## ゴール

実装前に**公式仕様・ドキュメント・ベストプラクティス**を調査し、価値を正確に実現するための知識基盤を構築する。AIの既存知識に頼らず、最新かつ正確な情報に基づいた実装を可能にする。

## XP原則

@shared/xp-principles.md

## 共通処理

@shared/git-check.md

## 現在の状態確認

### 対象ストーリーの特定

$ARGUMENTS が指定されている場合はその ID、なければ `in-progress` ステータスのストーリーを使用してください。

@shared/backlog-reader.md から該当ストーリーの情報を取得：
- ID、タイトル、ステータス
- core_value（本質価値）
- minimum_experience（最小価値体験）
- hypothesis（検証すべき仮説）

**ステータスバリデーション**：
- 対象ストーリーが `in-progress` であることを確認
- `done` ステータスのストーリーは調査不要
- backlog が存在しない場合は、先に `/cc-xp:plan` と `/cc-xp:story` の実行を案内

### 既存調査結果の確認

`docs/cc-xp/research/[story-id]/` ディレクトリが既に存在するか確認：
- 存在する場合: 追加調査または更新として扱う
- 存在しない場合: 新規調査として開始

## Phase 1: 調査項目の特定

### 1. 実装領域の分析

ストーリーの内容から、調査が必要な技術領域を特定してください：

**技術カテゴリの判定**:
- **ゲーム開発**: ゲームルール、アルゴリズム、物理演算
- **Web開発**: フレームワーク、API、ブラウザ仕様
- **データ処理**: ファイル形式、データ構造、アルゴリズム
- **UI/UX**: デザインシステム、アクセシビリティ、インタラクション
- **インフラ**: デプロイ、CI/CD、クラウドサービス
- **セキュリティ**: 認証、暗号化、脆弱性対策

### 2. 調査項目リストの作成

以下の観点で調査項目を整理してください：

**必須調査項目**:
- 公式仕様・標準規格
- APIリファレンス
- 実装に必要なアルゴリズム
- 必須の依存関係

**推奨調査項目**:
- ベストプラクティス
- よくあるアンチパターン
- パフォーマンス最適化手法
- 参考実装・サンプルコード

**オプション調査項目**:
- 競合製品の分析
- ユーザーコミュニティの知見
- 将来の拡張性考慮事項

## Phase 2: 調査実行

### 1. 公式ドキュメントの検索

**WebSearchツールを活用**して、以下を検索してください：

```
"[技術名] official documentation"
"[技術名] specification"
"[技術名] API reference"
```

### 2. 技術仕様の詳細調査

**WebFetchツールとContext7を活用**して詳細な技術情報を収集：

- 公式ドキュメントの該当ページを取得
- ライブラリ・フレームワークの最新仕様を確認
- 実装パターンとベストプラクティスを調査

### 3. 価値実現に特化した調査

**重要**: 技術的な実装方法だけでなく、価値実現の観点から調査：

- minimum_experience を実現するための技術要素
- ユーザー体験を損なわない実装方法
- 価値提供に直結する技術選択

## Phase 3: 調査結果の整理

### 1. 調査レポートの作成

`docs/cc-xp/research/[story-id]/research-report.md` を作成：

```markdown
# 技術調査レポート - [Story Title]

## 調査対象ストーリー

- ID: [story-id]
- 価値: [core_value]
- 最小体験: [minimum_experience]

## 技術領域調査結果

### [技術領域1]

#### 公式仕様
- [仕様URL]
- [重要なポイント]

#### 実装方法
- [推奨実装パターン]
- [アンチパターン]

#### 価値実現への影響
- [この技術がminimum_experienceにどう貢献するか]

### [技術領域2]
[同様の構造]

## 実装推奨事項

### 価値実現優先の技術選択
1. [推奨事項1]
2. [推奨事項2]

### 回避すべきアンチパターン
1. [アンチパターン1]
2. [アンチパターン2]

## 次のステップ

価値実現に必要な技術知識の獲得が完了。
/cc-xp:develop でTDD実装を開始可能。
```

### 2. ストーリーステータス更新

調査完了後、以下を実行：

1. backlog.yamlの `research_completed` フラグを true に設定
2. `research_summary` に調査結果の要約を追加
3. `updated_at` を現在時刻で更新

## 完了確認

```
🔍 Research 完了
=================
対象ストーリー: [story-id]
調査領域: [技術カテゴリ]
調査項目数: [N]件

価値実現調査:
✅ minimum_experience実現方法確認
✅ 公式仕様・ベストプラクティス調査
✅ アンチパターン特定

技術選択:
✅ 価値実現優先の技術選択完了
✅ 実装リスクの特定・回避策準備

次のアクション:
→ /cc-xp:develop でTDD実装開始
```

## 次のステップ

@shared/next-steps.md