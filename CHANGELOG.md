# 更新履歴

cc-xp-kit の主要な変更をお知らせします。

## [0.2.2] - 2025-08-11

### 技術調査フェーズの追加と開発品質向上

**重要な新機能**: `/cc-xp:research` コマンドを追加し、実装前の技術調査を体系化しました。

#### 🆕 技術調査機能（/cc-xp:research）

- **新しいワークフローステップ**
  - story と develop の間に調査フェーズを追加
  - 公式仕様・ドキュメントの調査を必須化
  - AI の知識への過度な依存を防止

- **調査結果の体系的記録**
  - `docs/cc-xp/research/[story-id]/` に調査結果を保存
  - specifications.md: 公式仕様書
  - implementation.md: 実装ガイドライン  
  - references.md: 参考資料リンク集
  - decisions.md: 技術的な決定事項

- **調査支援ツールの活用**
  - WebSearch: 公式ドキュメント検索
  - WebFetch: 仕様詳細の取得
  - Context7: ライブラリドキュメント取得

#### 既存コマンドの改善

- **story.md**: research コマンドへの誘導を追加
- **develop.md**: 調査結果確認ステップを追加
- **retro.md**: 調査品質の振り返り項目を追加

#### セキュリティと開発体験の向上

- **allowed-tools の最小権限化**
  - `develop.md`: 具体的なテストツールコマンドのみに限定
  - `review.md`: デモ起動・テスト実行に必要なコマンドのみに限定
  - セキュリティと意図可視性が向上

#### 開発体験（DX）改善

- **メトリクス責務表を README に追加**
  - 各コマンドがいつ・どのメトリクスを更新するかを明確化
  - オンボーディングの高速化

- **テスト高速化 Tips を develop.md に追加**
  - watch モード、--maxfail、部分実行などの推奨オプション
  - 言語別の高速化手法を網羅（JavaScript、Python、Rust、Go）

- **ポート衝突の自動対処（review.md）**
  - 代替ポート探索ロジック
  - `--skip-demo` オプションの自動提案
  - エラー時の具体的な対処法を表示

#### ユーザビリティ向上

- **未コミット変更の警告テンプレート（plan.md）**
  - `git status --porcelain` の結果を使った具体的な警告
  - 推奨アクション（コミット、stash、破棄）を提示

- **受け入れ条件の運用ヒント（story.md）**
  - 「最大 3 つ」のベストプラクティスとその理由
  - 優先順位付けのガイドライン

#### 🔄 TDD革命: 真のインクリメンタル開発を実現

**重大な問題解決**: TODO テンプレート生成による未実装問題を根本解決。

- **develop.mdの根本的再設計**
  - TODO テスト（`expect(true).toBe(false)`）生成を完全廃止
  - 1 つの acceptance_criteria ずつ進める段階的 TDD サイクル
  - 進捗状態管理（red/green/not_started）による次アクション決定
  - t-wada 式最小限実装（`return 固定値`）からの段階的改善

- **story.mdからテスト生成機能を完全削除**
  - E2E テストテンプレート生成を削除
  - 受け入れ基準詳細化のみに専念
  - 実装検証観点への変更

- **tdd-principles.mdの刷新**
  - t-wada 氏の最小実装原則を追加
  - 三角測量による段階的一般化の説明
  - TODO テスト作成の明確な禁止

**新しい開発体験**:
```
develop(1回目): テスト1つ作成→Red
develop(2回目): 最小限実装→Green  
develop(3回目): 次テスト作成→Red
（真のTDDサイクルを実現）
```

**期待効果**:
- 段階的な価値実現（1 機能ずつ確実に完成）
- 真の TDD 実践（小さな Red-Green-Refactor サイクル）
- 価値未実現コードの根絶

## [0.2.1] - 2025-08-07

### 統合XPワークフロー大幅改善

src/cc-xp/配下の 5 つのコマンドを大幅に改善し、「迷わない開発」を実現しました。

#### 新機能・改善

- **次のステップ明示システム** - 全コマンドで次のステップを必ず表示
- **修正サイクルの最適化** - reject → develop → review の効率的なループ
- **状態管理の強化** - ステータス遷移ルール（selected→in-progress→testing→done）の厳密化
- **環境自動チェック** - Git 状態、プロジェクト構造、バックログの検証
- **エラーハンドリング強化** - 想定外状況での適切なガイダンス

#### コマンド別の改善

**`/cc-xp:plan`**
- 環境セットアップの自動化（Git 初期化、ディレクトリ作成）
- ツールチェーン自動判定の強化
- ストーリー選定アルゴリズムの改善

**`/cc-xp:story`**  
- フィーチャーブランチ管理の統合
- テスト戦略の詳細化
- 受け入れ条件の構造化改善

**`/cc-xp:develop`**
- 修正サイクル対応の実装
- TDD フェーズ（Red→Green→Refactor）の詳細化
- トラブルシューティングガイドの追加

**`/cc-xp:review`**
- accept/reject/skip 判定の一気通貫実装
- フィードバックファイルによる修正履歴管理
- サーバー起動/停止の自動化

**`/cc-xp:retro`**
- Git メトリクス収集の強化
- TDD サイクル健全性評価システム
- アクションアイテム自動生成

#### ユーザー体験の向上

- **迷わない設計** - 各段階で次に何をすべきかを明確表示
- **確実な修正** - reject 時のフィードバック管理とサイクル効率化
- **継続的改善** - 客観的メトリクスによる振り返り自動化
- **問題解決支援** - エラー時の具体的な対処法を提供

## [0.2.0] - 2025-08-04

### フィーチャーレベルTDD粒度システム完全実装

5 つのスラッシュコマンドによる統合 XP ワークフローを実装しました。

#### 新機能

- **5つのXPスラッシュコマンド** - 計画から振り返りまで完全統合
  - `/cc-xp:plan "作りたいもの"` - YAGNI 原則による計画立案
  - `/cc-xp:story` - ユーザーストーリー詳細化
  - `/cc-xp:develop` - TDD サイクル完走（Red→Green→Refactor）
  - `/cc-xp:review [accept/reject]` - 動作確認とフィードバック
  - `/cc-xp:retro` - 振り返りと継続的改善

- **粒度選択システム** - 開発スケールに応じた選択
  - `--micro` (10-30 分): 単一機能実装
  - `--feature` (2-4 時間): フィーチャー単位開発
  - `--epic` (8-16 時間): 大規模な機能開発

- **モダンツールチェーン対応**
  - JavaScript/TypeScript: Bun または pnpm + Vite
  - Python: uv + Ruff + pytest
  - Rust: Cargo（標準）
  - Go: Go modules（標準）

- **フィーチャーブランチ戦略統合**
  - ストーリー単位でのブランチ作成
  - TDD フェーズごとのコミット管理
  - マージ・タグ戦略の自動化

- **バックログ・メトリクス管理**
  - YAML 形式のストーリー管理
  - ベロシティとサイクルタイム追跡
  - Git 統計による客観的振り返り

#### 設計原則

- **Kent Beck XP原則** - コミュニケーション重視の対話型開発
- **実用的TDD** - Red→Green→Refactor サイクルの厳密実行
- **継続的改善** - 短サイクルでの学習とフィードバック
- **フィーチャー駆動** - ユーザー価値中心の開発フロー

## [0.1.4] - 2025-07-28

### 改善

- **Phase 3.6 MVP Gate Auto-Recovery** - 手動介入なしの自動復旧システム
- **Universal UX改善システム** - プロジェクト対応型完了メッセージ
- **バックグラウンドプロセス最適化** - サーバーコマンドのタイムアウト解消

### バグ修正

- .gitignore tmp/ 除外の構文修正（インラインコメント分離）

## [0.1.3] - 2025-07-25

### 新機能

- **TDD実装フェーズ** - Red→Green→Refactor サイクル
- **進捗ダッシュボード** - リアルタイム状況表示
- **自動テスト実行** - 継続的フィードバックループ

### 改善

- Kent Beck 原則の厳密実装
- イテレーション単位の最適化
- コミットメッセージ標準化

## [0.1.2] - 2025-07-22

### 新機能

- **ユーザーストーリー自動生成** - 要求から受け入れ条件まで
- **プロジェクト型検出** - 言語・フレームワーク自動判定
- **完了判定システム** - Definition of Done 準拠

### 改善

- フィードバックループの高速化
- ストーリー品質向上
- テンプレート系統化

## [0.1.1] - 2025-07-20

### 新機能

- **マイクロフィードバック** - 15 分サイクル実装
- **ストーリー進捗追跡** - 状態管理システム
- **TODO自動管理** - 動的タスク生成

### バグ修正

- Phase 間の状態遷移修正
- スクリプト実行権限に関する問題を解決

## [0.1.0] - 2025-07-18

### 初回リリース

Kent Beck の XP 原則に基づく TDD 開発キットの初版。

#### 基本機能

- **7つのサブコマンド** - detect・status・fix・feedback・review・run
- **3フェーズ開発サイクル** - 計画→実装→確認
- **シェルスクリプトベース** - 軽量で拡張性の高いアーキテクチャ
- **Claude統合** - 自然言語による開発支援

#### 設計思想

- **テストファースト** - TDD の厳密実践
- **小さなリリース** - 短期間でのフィードバック
- **リファクタリング** - 継続的な品質改善
- **ペアプログラミング** - Claude との協調開発

---

*"シンプルさこそが究極の洗練である" - レオナルド・ダ・ヴィンチ*